!function(){var e={762:function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t="day",i="hour",n="minute",o="second",r={d:t,h:i,m:n,s:o},a={list:[o,n,i,t],next:function(e){var t=this.list.indexOf(e);return t<this.list.length&&this.list[t+1]},prev:function(e){var t=this.list.indexOf(e);return t>0&&this.list[t-1]}},s={year:2034,month:7,day:31,hour:0,minute:0,second:0,timeZone:"local",ignoreTransferTime:!1,layout:"dhms",periodic:!1,periodInterval:7,periodUnit:"d",doubleNumbers:!0,effectType:"none",lang:"eng",headTitle:"",footTitle:"",afterDeadline:function(e){e.bodyBlock.html('<p style="font-size: 1.2em;">The countdown is finished!</p>')}},l={second:!1,minute:!1,hour:!1,day:!1},c={init:function(e){var t=$.extend({},s,e||{});t.itemTypes=u.getItemTypesByLayout(t.layout),t._itemsHas=$.extend({},l);for(var i=0;i<t.itemTypes.length;i++)t._itemsHas[t.itemTypes[i]]=!0;return this.each((function(){$(this).data("syotimer-options",t),c._render.apply(this,[]),c._perSecondHandler.apply(this,[])}))},_render:function(){for(var e=$(this),t=e.data("syotimer-options"),i=u.getTimerItem(),n=$("<div/>",{class:"syotimer__head"}).html(t.headTitle),o=$("<div/>",{class:"syotimer__body"}),r=$("<div/>",{class:"syotimer__footer"}).html(t.footTitle),a={},s=0;s<t.itemTypes.length;s++){var l=i.clone();l.addClass("syotimer-cell_type_"+t.itemTypes[s]),o.append(l),a[t.itemTypes[s]]=l}var c={headBlock:n,bodyBlock:o,footBlock:r};e.data("syotimer-blocks",c).data("syotimer-items",a).addClass("syotimer").append(n).append(o).append(r)},_perSecondHandler:function(){var e=$(this),t=e.data("syotimer-options");$(".syotimer-cell > .syotimer-cell__value",e).css("opacity",1);var i=new Date,n=new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second),o=u.getDifferenceWithTimezone(i,n,t),r=u.getSecondsToDeadLine(o,t);r>=0?(c._refreshUnitsDom.apply(this,[r]),c._applyEffectSwitch.apply(this,[t.effectType])):(e=$.extend(e,e.data("syotimer-blocks")),t.afterDeadline(e))},_refreshUnitsDom:function(e){var i=$(this),n=i.data("syotimer-options"),o=i.data("syotimer-items"),r=n.itemTypes,a=u.getUnitsToDeadLine(e);n._itemsHas.day||(a.hour+=24*a.day),n._itemsHas.hour||(a.minute+=60*a.hour),n._itemsHas.minute||(a.second+=60*a.minute);for(var s=0;s<r.length;s++){var l=r[s],c=a[l],d=o[l];d.data("syotimer-unit-value",c),$(".syotimer-cell__value",d).html(u.format2(c,l!==t&&n.doubleNumbers)),$(".syotimer-cell__unit",d).html($.syotimerLang.getNumeral(c,n.lang,l))}},_applyEffectSwitch:function(e,t){t=t||o;var i=this,n=$(i);if("none"===e)setTimeout((function(){c._perSecondHandler.apply(i,[])}),1e3);else if("opacity"===e){var r=n.data("syotimer-items")[t];if(r){var s=a.next(t),l=r.data("syotimer-unit-value");$(".syotimer-cell__value",r).animate({opacity:.1},1e3,"linear",(function(){c._perSecondHandler.apply(i,[])})),s&&0===l&&c._applyEffectSwitch.apply(i,[e,s])}}}},u={getTimerItem:function(){var e=$("<div/>",{class:"syotimer-cell__value",text:"0"}),t=$("<div/>",{class:"syotimer-cell__unit"}),i=$("<div/>",{class:"syotimer-cell"});return i.append(e).append(t),i},getItemTypesByLayout:function(e){for(var t=[],i=0;i<e.length;i++)t.push(r[e[i]]);return t},getSecondsToDeadLine:function(e,t){var i,n=e/1e3;if(n=Math.floor(n),t.periodic){var o,r,a=u.getPeriodUnit(t.periodUnit),s=e/(1e3*a);s=Math.ceil(s),s=Math.abs(s),n>=0?(r=0==(r=s%t.periodInterval)?t.periodInterval:r,r-=1):r=t.periodInterval-s%t.periodInterval,0==(o=n%a)&&n<0&&r--,i=Math.abs(r*a+o)}else i=n;return i},getUnitsToDeadLine:function(e){var i=t,n={};do{var o=u.getPeriodUnit(i);n[i]=Math.floor(e/o),e%=o}while(i=a.prev(i));return n},getPeriodUnit:function(e){switch(e){case"d":case t:return 86400;case"h":case i:return 3600;case"m":case n:return 60;case"s":case o:return 1}},getDifferenceWithTimezone:function(e,t,o){var r=t.getTime()-e.getTime(),a=0,s=0;return"local"!==o.timeZone&&(a=1e3*(parseFloat(o.timeZone)*u.getPeriodUnit(i)- -e.getTimezoneOffset()*u.getPeriodUnit(n))),o.ignoreTransferTime&&(s=1e3*(-e.getTimezoneOffset()*u.getPeriodUnit(n)- -t.getTimezoneOffset()*u.getPeriodUnit(n))),r-(a+s)},format2:function(e,t){return t=!1!==t,e<=9&&t?"0"+e:""+e}},d={setOption:function(e,t){var i=$(this),n=i.data("syotimer-options");n.hasOwnProperty(e)&&(n[e]=t,i.data("syotimer-options",n))}};$.fn.syotimer=function(t){if("string"==typeof t&&"setOption"===t){var i=Array.prototype.slice.call(arguments,1);return this.each((function(){d[t].apply(this,i)}))}if(null==t||"object"===e(t))return c.init.apply(this,[t]);$.error("SyoTimer. Error in call methods: methods is not exist")}},971:function(){$.syotimerLang={rus:{second:["секунда","секунды","секунд"],minute:["минута","минуты","минут"],hour:["час","часа","часов"],day:["день","дня","дней"],handler:"rusNumeral"},eng:{second:["second","seconds"],minute:["minute","minutes"],hour:["hour","hours"],day:["day","days"]},por:{second:["segundo","segundos"],minute:["minuto","minutos"],hour:["hora","horas"],day:["dia","dias"]},spa:{second:["segundo","segundos"],minute:["minuto","minutos"],hour:["hora","horas"],day:["día","días"]},heb:{second:["שניה","שניות"],minute:["דקה","דקות"],hour:["שעה","שעות"],day:["יום","ימים"]},universal:function(e){return 1===e?0:1},rusNumeral:function(e){return e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]},getNumeral:function(e,t,i){var n=this[$.syotimerLang[t].handler||"universal"](e);return $.syotimerLang[t][i][n]}}}},t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";i(762),i(971);var e=$(".countdown"),t=e.text().split("/");e.text(""),$(".countdown").syotimer({year:t[0],month:t[1],day:t[2],hour:0,minute:0,layout:"dhm",lang:"rus"}),$(".reviews-carousel").length>0&&$.ajax({url:"index.php?route=extension/module/reviews/getLatestReviews",type:"post",dataType:"json",data:{limit:10}}).done((function(e){var t=e.reviews;if(t){var i="";t.forEach((function(e){for(var t=e.created_at.split(" ")[0].split("-"),n=e.photo?'<img src="/image/catalog/reviews/'.concat(e.photo,'" alt="').concat(e.name,'" class="reviews-carousel__photo"/>'):"",o="",r=1;r<=5;r++)e.mark>=r?o+='<i class="fa fa-star reviews-carousel__star reviews-carousel__star_orange" aria-hidden="true"></i>':o+='<i class="fa fa-star reviews-carousel__star reviews" aria-hidden="true"></i>';i+='\n        <div class="reviews-carousel__item swiper-slide">\n          <div class="reviews-carousel__wrap">\n            <div class="reviews-carousel-top">\n              '.concat(n,'\n              <div class="reviews-carousel-block">\n                <ul class="reviews-carousel-info list-inline">\n                  <li class="reviews-carousel__name">').concat(e.name,' /</li>\n                  <li class="reviews-carousel__city">').concat(e.city,'</li>\n                  <li class="reviews-carousel__date">').concat(t[2],".").concat(t[1],".").concat(t[0],'</li>\n                  <li class="reviews-carousel__mark">').concat(o,'</li>\n                </ul>\n                <p class="reviews-carousel__text">').concat(e.msg.slice(0,200),"</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        ")})),$(".reviews-carousel .swiper-wrapper").html(i),$(".reviews-carousel .swiper-container").swiper({mode:"horizontal",speed:2e3,loop:!0,autoplayDisableOnInteraction:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev"})}})).fail((function(e){console.log(e)}))}()}();
//# sourceMappingURL=home.js.map